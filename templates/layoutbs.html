<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <base href="[[=URL('static')]]/">
    <!--link rel="stylesheet" href="css/no.css"-->
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="css/custom.css">
    <script src="js/jquery.js"></script>
   <script src="https://unpkg.com/htmx.org@1.5.0"></script>

    <style>.py4web-validation-error{margin-top:-16px; font-size:0.8em;color:red}</style>
    [[block page_head]]<!-- individual pages can customize header here -->[[end]]
    [[load_graph=False]]
  </head>
  <body>
    <header>
      <!-- Navigation bar -->
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
        <!-- Logo -->
        <a class="navbar-brand" href="[[=URL('index')]]">
          <b>Networked Decision Making</b>
        </a>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link" href="[[=URL('about')]]">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="[[=URL('index')]]">Home</a>
           </li>
                  <li class="nav-item">
          <a class="nav-link" href="[[=URL('locationgrid')]]">Location</a>
           </li>
                  <li class="nav-item">
          <a class="nav-link" href="[[=URL('projectgrid')]]">Projects</a>
           </li>
                  <li class="nav-item">
          <a class="nav-link" href="[[=URL('event_redirect/Open')]]">Events</a>
           </li>
                  <li class="nav-item">
          <a class="nav-link" href="[[=URL('questiongrid/select/',vars=dict(qtype='issue'))]]">Issues</a>
           </li>
                  <li class="nav-item">
          <a class="nav-link" href="[[=URL('questiongrid/select/',vars=dict(qtype='quest'))]]">Questions</a>
           </li>
                  <li class="nav-item">
          <a class="nav-link" href="[[=URL('questiongrid/select/',vars=dict(qtype='action'))]]">Actions</a>
           </li>
                  <li class="nav-item">
          <a class="nav-link" href="[[=URL('gantt')]]">Gantt</a>
           </li>
          <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          [[if globals().get('user'):]]
              [[=globals().get('user',{}).get('email')]]
            </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <li><a class="dropdown-item" href="[[=URL('auth/profile')]]">Edit Profile</a></li>
              [[if 'change_password' in globals().get('actions',{}).get('allowed_actions',{}):]]
                <li><a class="dropdown-item" href="[[=URL('auth/change_password')]]">Change Password</a></li>
              [[pass]]
              <li><a class="dropdown-item" href="[[=URL('auth/logout')]]">Logout</a></li>
            </ul>
          [[else:]]
            Login
              </a>
            <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
              <li><a class="dropdown-item" href="[[=URL('auth/register')]]">Sign up</a></li>
              <li><a class="dropdown-item" href="[[=URL('auth/login')]]">Log in</a></li>
            </ul>
          [[pass]]
          </li>
        </ul>
        </div>
        </div>
      </nav>
    </header>
    <!-- beginning of HTML inserted by extending template -->
     <!-- Flash normally here - moved to end as not auto closing-->

     <!-- class="padded" -- not convinced I want this-->
      <main>
        <!-- contect injected by extending page -->
        [[include]]
      </main>

      <div>
        <!-- Flash alert messages, first optional one in data-alert -->
        <flash-alerts id="alertarea" class="padded" data-alert="[[=globals().get('flash','')]]"></flash-alerts>
      </div>
    <!-- end of HTML inserted by extending template -->
    <footer class="bg-dark text-white">
        <div>
<table>
<thead>
<tr>
<td class="col-sm-3">Made with py4web</td>
<td class="col-sm-4 h5">Thinking behind the site:
    <a href="https://www.netdecisionmaking.com/WayForward/chapter/10/05">New Global Strategy</a></td>
</tr>
</thead>
</table>
        </div>
    </footer>
  </body>
  
  <!-- You've gotta have utils.js -->
  <script src="js/utils.js"></script>
  <script src="js/axios.min.js"></script>
  <script src="js/vue.min.js"></script>
  <script src="js/sugar.min.js"></script>
  <script src="js/bootstrap.js"></script>

  <script src="https://d3js.org/d3.v5.min.js"></script>
  [[if load_graph:]]
    <script src="js/graphd3v4.js"></script>
  [[pass]]

    [[if globals().get('flash'):]]
<script>Q.flash([[=XML(flash)]]);</script>
[[pass]]

  <script>
    [[include 'quickanswer.js']]
 </script>

  [[block page_scripts]]<!-- individual pages can add scripts here -->[[end]]
</html>
